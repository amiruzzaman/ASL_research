---
import type { HTMLAttributes } from "astro/types";

import Spinner from "./Spinner.astro";

export interface Props extends HTMLAttributes<"div"> {
  textId?: string;
  spinnerId?: string;
}

const { textId, spinnerId, class: className, ...rest } = Astro.props;
---

<div data-loading="false" class:list={["colrow-md", className]} {...rest}>
  <Spinner id={spinnerId} />
  <span id={textId}><slot /></span>
</div>

<style>
  div {
    display: none;
    align-items: center;
    justify-content: center;
    gap: var(--1);
    position: absolute;
    inset: 0;
    z-index: 10;
    padding: var(--2);
  }

  div[data-loading="true"] {
    display: flex;
  }
</style>
